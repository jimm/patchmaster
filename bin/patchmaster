#!/usr/bin/env ruby
#
# usage: patchmaster [-i] [pm_file]
#
# Starts PatchMaster and optionally loads pm_file.
#
# The -n flag tells PatchMaster to not use MIDI. All MIDI errors such as not
# being able to connect to the MIDI instruments specified in pm_file are
# ignored, and no MIDI data is sent/received. That is useful if you want to
# run PatchMaster without actually talking to any MIDI instruments.

require 'patchmaster'

pm = PM::Main.instance
if ARGV[0] == '-n'
  pm.no_midi!
  ARGV.shift
end
pm.load(ARGV[0]) if ARGV[0]
pm.run
